@page "/pdf-viewer-2/custom-toolbar"

@using System.IO
@inject IJSRuntime JSRuntime
@using Syncfusion.Blazor.DropDowns
@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.Inputs
@using Syncfusion.Blazor.Popups
@using Syncfusion.Blazor.Buttons
@using Microsoft.JSInterop
@using Syncfusion.Blazor.SfPdfViewer
@using Syncfusion.Blazor.SplitButtons

@*Hidden:Lines*@
@inherits SampleBaseComponent
@implements IDisposable;
@inject NavigationManager NavigationManager


@*End:Hidden*@

<SampleDescription>
    <p>This example illustrates the process of crafting a customized toolbar within the PDF Viewer, allowing you to incorporate specific tools tailored to your needs.</p>
</SampleDescription>
<ActionDescription>
   <p>In this example, you can observe the PDF Viewer control API in action to perform various functionalities.</p>
   <ul>
        <li>Go to Previous Page - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_GoToPreviousPageAsync' aria-label="Navigate to the GoToPreviousPageAsync method reference for PdfViewerBase">'viewer.GoToPreviousPageAsync()'</a></li>
        <li>Go to Next Page - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_GoToNextPageAsync' aria-label="Navigate to the GoToNextPageAsync method reference for PdfViewerBase">'viewer.GoToNextPageAsync()'</a></li>
        <li>Go to Page - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_GoToPageAsync_System_Int32_' aria-label="Navigate to the GoToPageAsync method reference for PdfViewerBase">'viewer.GoToPageAsync(pageindex)'</a></li>
        <li>Search Text - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_SearchTextAsync_System_String_System_Boolean' aria-label="Navigate to the SearchTextAsync method reference for PdfViewerBase">'viewer.SearchTextAsync()'</a></li>
        <li>Search Next Text - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_SearchNextAsync' aria-label="Navigate to the SearchNextAsync method reference for PdfViewerBase">'viewer.SearchNextAsync()'</a></li>
        <li>Search Previous Text - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_SearchPreviousAsync' aria-label="Navigate to the SearchPreviousAsync method reference for PdfViewerBase">'viewer.SearchPreviousAsync()'</a></li>
        <li>Print - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_PrintAsync' aria-label="Navigate to the PrintAsync method reference for PdfViewerBase">'viewer.PrintAsync()'</a></li>
        <li>Download - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_DownloadAsync' aria-label="Navigate to the DownloadAsync method reference for PdfViewerBase">'viewer.DownloadAsync()'</a></li>
        <li>Load Document - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_LoadAsync_System_String_System_String_' aria-label="Navigate to the LoadAsync method reference for PdfViewerBase">'viewer.LoadAsync(String, String)'</a></li>
        <li>Set Annotation Mode - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_SetAnnotationModeAsync_Syncfusion_Blazor_PdfViewer_AnnotationType_' aria-label="Navigate to the SetAnnotationModeAsync method reference for PdfViewerBase">'viewer.SetAnnotationModeAsync(AnnotationType)'</a></li>
        <li>Edit Annotation - <a href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.PdfViewer.PdfViewerBase.html#Syncfusion_Blazor_PdfViewer_PdfViewerBase_EditAnnotationAsync_Syncfusion_Blazor_PdfViewer_PdfAnnotation_' aria-label="Navigate to the EditAnnotationAsync method reference for PdfViewerBase">'viewer.EditAnnotationAsync(AnnotationType)'</a></li>
    </ul>
@*WASM:Block*@
@{ #if (WASM) }
    <p>More information about the SfPdfViewer can be found in this<a target='_blank' href='https://blazor.syncfusion.com/documentation/pdfviewer-2/toolbar-customization' aria-label="Navigate to the documentation for toolbar customization in SfPdfViewer component"> documentation section</a>.</p>
@{ #endif }
@*End:WASM*@

@*Server:Block*@
@{ #if !(WASM) }
    <p>More information about the SfPdfViewer can be found in this<a target='_blank' href='https://blazor.syncfusion.com/documentation/pdfviewer-2/toolbar-customization' aria-label="Navigate to the documentation for toolbar customization in SfPdfViewer component"> documentation section</a>.</p>
@{ #endif }
@*End:Server*@

</ActionDescription>

<div class="control-section" id="target">
     <!--Custom Toolbar-->
    @*Hidden:Lines*@
    <div style="display:none">
        <SfUploader @ref="@uploadFiles" ID="UploadFiles" ShowFileList="false" AllowedExtensions=".pdf">
            <UploaderEvents OnUploadStart="@FileUploadSelected" Created="@createdHandler"></UploaderEvents>
            <UploaderAsyncSettings SaveUrl="https://services.syncfusion.com/aspnet/production/api/FileUploader/Save" RemoveUrl="https://services.syncfusion.com/aspnet/production/api/FileUploader/Remove"></UploaderAsyncSettings>
        </SfUploader>
    </div>
    @*End:Hidden*@
   <SfAppBar ColorMode="AppBarColor.Primary">
        <span class="regular">Custom Toolbar</span>
        <AppBarSpacer></AppBarSpacer>
        <SfTooltip Target="#download" Content="Download File" Position="Position.TopCenter"></SfTooltip>
        <SfButton CssClass="e-inherit" id="download" IconCss="e-icons e-download" OnClick="@DownloadDocument">Download</SfButton>
    </SfAppBar>
    <div class="e-pv-primary-toolbar">
        <SfToolbar>
            <ToolbarEvents Clicked="@ToolbarClick"></ToolbarEvents>
           <ToolbarItems>
               <ToolbarItem Width="70px" TabIndex="1" TooltipText="Open File" PrefixIcon="e-icon e-folder" Text="Open"CssClass="e-pv-open-container" Id="pdfviewer_open"></ToolbarItem>
               <ToolbarItem Type="ItemType.Separator"></ToolbarItem>
               <ToolbarItem Width="70px" TabIndex="2" TooltipText="Text Selection Tool" PrefixIcon="e-icon e-mouse-pointer" Text="Selection" CssClass="e-pv-select-container"></ToolbarItem>
               <ToolbarItem Width="70px" TabIndex="3" TooltipText="Highlight Text" PrefixIcon="e-icons e-highlight-color" Text="Highlight" CssClass="e-pv-highlight-container"></ToolbarItem>
               <ToolbarItem Width="70px" TabIndex="4" TooltipText="Add Shapes"><Template> 
               <SfDropDownButton Content="Shapes" IconPosition="SplitButtonIconPosition.Top" IconCss="e-icons e-shapes" CssClass=""> 
                    <DropDownMenuItems>
                        <DropDownMenuItem Text="Line" IconCss="e-pv-shape-line-icon e-pv-icon"></DropDownMenuItem>
                        <DropDownMenuItem Text="Rectangle" IconCss="e-pv-shape-rectangle-icon e-pv-icon" ></DropDownMenuItem>
                        <DropDownMenuItem Text="Circle" IconCss="e-pv-shape-circle-icon e-pv-icon" ></DropDownMenuItem>
                        <DropDownButtonEvents ItemSelected="@ShapeSelected"></DropDownButtonEvents>
                    </DropDownMenuItems>
               </SfDropDownButton></Template></ToolbarItem>
               <ToolbarItem Width="70px" TabIndex="5" TooltipText="Stamp" PrefixIcon="e-pv-stamp-icon e-pv-icon" Text="Stamp" CssClass="e-pv-stamp-container" >
                    <Template>
                       <SfDropDownButton Content="Stamp" IconPosition="SplitButtonIconPosition.Top" IconCss="e-icons e-stamp" CssClass=""> 
                                <PopupContent>
                                    <SfContextMenu @ref="ContextMenuItem" Items="@MenuItems" TValue="CustomMenuItem" ShowItemOnClick="true">
                                    <MenuEvents TValue="CustomMenuItem" Created="OnMenuCreated" ItemSelected="StampSelect"></MenuEvents>
                                    </SfContextMenu>
                                </PopupContent>
                       </SfDropDownButton>
                    </Template>
               </ToolbarItem>
               <ToolbarItem Width="70px" TabIndex="6" TooltipText="Free Text" PrefixIcon="e-icon e-text-annotation" Text="Free Text" CssClass="e-pv-font-container"></ToolbarItem>
               <ToolbarItem Width="70px" TabIndex="7" TooltipText="Add Signature" PrefixIcon="e-icons e-signature" Text="Signature"  CssClass="e-pv-signature-container"></ToolbarItem>
               <ToolbarItem Width="65px" TabIndex="8" TooltipText="Draw Ink" PrefixIcon="e-icons e-edit" Text="Draw" CssClass="e-pv-ink-container"></ToolbarItem>                
                <ToolbarItem Width="65px" TabIndex="9" TooltipText="Add Image" PrefixIcon="e-icons e-image" Text="Image" CssClass="e-pv-image-container"></ToolbarItem>
                <ToolbarItem Width="70px" TabIndex="10" TooltipText="Add Icons">
                    <Template> 
                    <SfDropDownButton Content="Icons" IconPosition="SplitButtonIconPosition.Top" IconCss="e-icons e-circle-add" CssClass=""> 
                            <DropDownMenuItems>
                                <DropDownMenuItem Text="Check" IconCss="e-check-tick e-icons" ></DropDownMenuItem>
                                <DropDownMenuItem Text="Cross" IconCss="e-close e-icons" ></DropDownMenuItem>
                                <DropDownMenuItem Text="Star" IconCss="e-star-filled e-icons" ></DropDownMenuItem>
                            </DropDownMenuItems>
                            <DropDownButtonEvents ItemSelected="@IconSelected"></DropDownButtonEvents>
                    </SfDropDownButton>
                    </Template>
                </ToolbarItem>
                <ToolbarItem Width="70px" TabIndex="11" TooltipText="Search Text" PrefixIcon="e-icons e-search" Id="searchicon" Text="Search" CssClass="e-pv-search-container"></ToolbarItem>
                <ToolbarItem Width="70px" TabIndex="12" TooltipText="Print File" PrefixIcon="e-icons e-print" Text="Print" CssClass="e-pv-print-container"></ToolbarItem>
           </ToolbarItems>
        </SfToolbar>
    </div>
    <div class="e-pv-secondary-toolbar">
        <SfToolbar>
            <ToolbarEvents Clicked="@ToolbarClick"></ToolbarEvents>
            <ToolbarItems>
                <ToolbarItem TabIndex="13" TooltipText="Show Previous Page" PrefixIcon="e-icon e-chevron-left" Disabled="PreviousPageDisable" CssClass="e-pv-previous-container"></ToolbarItem>
                <ToolbarItem><Template><span class="Page-container">@CurrentPageNumber &nbsp;/&nbsp; @TotalPages</span></Template></ToolbarItem>
                <ToolbarItem TabIndex="14"  TooltipText="Show Next Page" PrefixIcon="e-icon e-chevron-right" Disabled="NextPageDisable" CssClass="e-pv-next-container"></ToolbarItem>
                <ToolbarItem Type="ItemType.Separator"></ToolbarItem>
                <ToolbarItem TabIndex="15" Id="zoom-input" Type="ItemType.Input" TooltipText="Zoom"><Template>
                 <SfComboBox TItem="AnnotationProperties" TValue="string" DataSource="@ZoomList" @bind-Value="@ZoomValue" PopupHeight="350px" Placeholder="@ZoomValue" PopupWidth="auto" ShowClearButton="false">
                   <ComboBoxEvents TItem="AnnotationProperties" TValue="string" ValueChange="@ZoomValueChange"/>
                   <ComboBoxFieldSettings Value="Text" Text="Text"></ComboBoxFieldSettings> </SfComboBox>
                   </Template></ToolbarItem>
                <ToolbarItem TabIndex="16" Type="ItemType.Separator"></ToolbarItem>
                <ToolbarItem TabIndex="17" Visible="@IsFreeTextTool" TooltipText="Font Family"><Template><SfDropDownList Width="115px" TItem="AnnotationProperties" TValue="string" PopupHeight="230px" @bind-Value="@FontFamilyName" DataSource="@FontFamilyList">
                <DropDownListFieldSettings Text="Text" Value="ID"/> <DropDownListEvents TItem="AnnotationProperties" TValue="string" ValueChange="@OnFontFamilyChange" />
                </SfDropDownList></Template></ToolbarItem>
                <ToolbarItem TabIndex="18" Visible="@IsFreeTextTool" TooltipText="Font Size"><Template>
                    <SfDropDownList TValue="string" TItem="string" DataSource="@FontSizeList" @bind-Value="@FontSize" Width="85px" PopupWidth="100px" ShowClearButton="false">
                        <DropDownListEvents TItem="string" TValue="string" ValueChange="@FontSizeChange"/>
                   </SfDropDownList></Template></ToolbarItem>
                <ToolbarItem TabIndex="19" Visible="@IsFreeTextTool" TooltipText="Font Color" style="margin-right:10px"><Template>
                    <SfDropDownButton @ref="FontColorDropdown"  IconCss="e-icons e-font-color">
                        <PopupContent>
                            <SfColorPicker Inline="true" EnableOpacity="false" ModeSwitcher="false" Mode="ColorPickerMode.Palette" ShowButtons="false" @bind-Value="FontColor" ValueChange="@ColorChanged"></SfColorPicker>
                        </PopupContent>
                    </SfDropDownButton>
                </Template></ToolbarItem>
                <ToolbarItem TabIndex="20" TooltipText="Bold" Visible="@IsFreeTextTool" PrefixIcon="e-icon e-bold" CssClass="@(IsBold ? "e-pv-bold-container e-select-icon" : "e-pv-bold-container")"></ToolbarItem>
                <ToolbarItem TabIndex="21" TooltipText="Italic" Visible="@IsFreeTextTool" PrefixIcon="e-icon e-italic" CssClass="@(IsItalic ? "e-pv-italic-container e-select-icon" : "e-pv-italic-container")"></ToolbarItem>
                <ToolbarItem TabIndex="22" TooltipText="Underline" Visible="@IsFreeTextTool" PrefixIcon="e-icon e-underline" CssClass="@(IsUnderline ? "e-pv-underline-container e-select-icon" : "e-pv-underline-container")"></ToolbarItem>
                <ToolbarItem TabIndex="23" TooltipText="Change Stroke Color" Visible="@(IsShapeTool || IsInkTool)">
                    <Template>
                        <SfDropDownButton @ref="StrokeColorDropdown"  IconCss="e-icons e-line">
                            <PopupContent>
                                <SfColorPicker Inline="true" EnableOpacity="false" ModeSwitcher="false" Mode="ColorPickerMode.Palette" ShowButtons="false" @bind-Value="@StrokeColor" ValueChange="@StrokeColorChanged"></SfColorPicker>
                            </PopupContent>
                        </SfDropDownButton>
                    </Template>
                </ToolbarItem>
                 <ToolbarItem TabIndex="24" Visible="@(IsShapeTool || IsInkTool)" TooltipText="Change Border Thickness" >
                    <Template>
                        <SfDropDownButton IconCss="e-icons e-stroke-width">
                            <PopupContent>
                             <div class="e-pv-annotation-thickness-popup-container">
                                        <span class="e-pv-annotation-thickness-label">Line Thickness</span>
                                        <div class="e-pv-annotation-thickness-slider-container">
                                            <SfSlider Type="SliderType.MinRange" Max="12" Min="0" CssClass="e-pv-annotation-thickness-slider" @bind-Value="@ShapeThickness">
                                                <SliderEvents TValue="int" ValueChange="@ThicknessChange"></SliderEvents>
                                            </SfSlider>
                                        </div>
                                        <div class="e-pv-annotation-thickness-indicator">@ShapeThickness pt</div>
                                    </div>
                            </PopupContent>
                        </SfDropDownButton>
                    </Template>
                </ToolbarItem>
                <ToolbarItem TabIndex="25" TooltipText="Change Color" Visible="@(IsShapeTool && ShapeType != "Line" && annotation.Type != AnnotationType.Line)">
                    <Template>
                        <SfDropDownButton @ref="FillColorDropdown" IconCss="e-icons e-paint-bucket">
                            <PopupContent>
                                <SfColorPicker Inline="true" EnableOpacity="false" ModeSwitcher="false" Mode="ColorPickerMode.Palette" ShowButtons="false" ValueChange="FillColorChanged"></SfColorPicker>
                            </PopupContent>
                        </SfDropDownButton>
                    </Template>
                </ToolbarItem>
                <ToolbarItem TabIndex="26" TooltipText="Change Color" Visible="@IsHighlightTool">
                    <Template>
                        <SfDropDownButton @ref="ColorDropdown" IconCss="e-icons e-paint-bucket">
                            <PopupContent>
                                <SfColorPicker Inline="true" EnableOpacity="false" ModeSwitcher="false" Mode="ColorPickerMode.Palette" ShowButtons="false" ValueChange="HighlightColorChanged"></SfColorPicker>
                            </PopupContent>
                        </SfDropDownButton>
                    </Template>
                </ToolbarItem>
            </ToolbarItems>
        </SfToolbar>
    </div>
    @*Hidden:Lines*@
    @if (IsVisibleDialog)
    {
        <SfDialog ShowCloseIcon="false" CssClass="dialog-container" IsModal="true" Target="#target"  Visible="@IsVisibleDialog" Width="477px">
            <DialogTemplates>
             <Content><span style="border:2px solid black"></span></Content>
             <Header>Upload Image <SfButton IconCss="e-icons e-close" CssClass="close-button" OnClick="ClosePopUp"></SfButton></Header>

             <Content>
                 <div class="drop-area-wrap">
                    <SfUploader AutoUpload="true" DropArea=".drop-area-wrap" SequentialUpload="false" AllowedExtensions=".png, .jpg, .jpeg" >
                       <UploaderEvents ValueChange="ImageChane" ></UploaderEvents>
                    </SfUploader>
                     <div class="upload-footer">(Only JPG and PNG images will be accepted)</div>
                     </div>
                     <div class="image-list">
                    @if(Images != null)
                    {
                        if(Images.Count > 0)
                        {
                             <div class="@(Images[0].ImageSelected ? "image-container image-container-selected" : "image-container")" >
                                <img class="image-source" src="@Images[0].ImageData" @onclick="()=>ImageSelected(0)"/>
                            </div>
                            if(Images.Count > 1)
                            {
                                <div class="@(Images[1].ImageSelected ? "image-container image-container-selected" : "image-container")" >
                                    <img class="image-source" src="@Images[1].ImageData" @onclick="()=>ImageSelected(1)"/>
                                </div>
                                if (Images.Count > 2)
                                {
                                    <div class="@(Images[2].ImageSelected ? "image-container image-container-selected" : "image-container")">
                                            <img class="image-source" src="@Images[2].ImageData" @onclick="()=>ImageSelected(2)"/>
                                    </div> 
                                }
                            }
                        }
                    }
                </div>
             </Content>
         </DialogTemplates>
         <DialogButtons>
            <DialogButton CssClass="e-flat" Content="OK" Disabled="IsImageSelected" OnClick="AddImage"></DialogButton>
            <DialogButton CssClass="e-flat" Content="Cancel" OnClick="CancelImage"></DialogButton>
        </DialogButtons>
    </SfDialog>
    }
@*End:Hidden*@
    <SfTooltip OpensOn="Click" Target="#searchicon" ID="Tooltip" @ref="Sftooltip" Position="Position.BottomCenter" OnClose="SearchClose">
   <ContentTemplate>
           <div class="div">
            <SfTextBox ID="textbox" @ref="Sftextbox" Placeholder="Search Text" Created="@AddIcon" ValueChanged="@SearchText"></SfTextBox>
             </div>
            <div class="buttondiv">
            <SfButton id="prevbtn" CssClass="e-previous" Content="Previous" OnClick="@PreviousClick"></SfButton>
            <SfButton id="nextsearchbtn" CssClass="e-next" Content="Next" OnClick="@NextClick"></SfButton>
            </div>
            <div class="checkboxdiv">
              <SfCheckBox TChecked="bool" Label="Match case" @onchange="MatchCaseChanged"></SfCheckBox>  
            </div>
       </ContentTemplate>
   </SfTooltip>

<div class="magnification-toolbar" id="toolbar">
<SfToolbar Width="200px">
    <ToolbarEvents Clicked="@ToolbarClick" ></ToolbarEvents>
        <ToolbarItems>
            <ToolbarItem PrefixIcon="e-icons e-zoom-to-fit" Id="fitpage" TooltipText="Fit Page" Align=@ItemAlign.Left CssClass="e-pv-fit-page-container"></ToolbarItem>
            <ToolbarItem PrefixIcon="e-icons e-circle-add" Id="zoomin" TooltipText="Zoom In" Align=@ItemAlign.Left CssClass="e-pv-zoom-in-container"></ToolbarItem>
            <ToolbarItem PrefixIcon="e-icons e-circle-remove" Id="zoomout" TooltipText="Zoom Out" Align=@ItemAlign.Left CssClass="e-pv-zoom-out-container"></ToolbarItem>
        </ToolbarItems>
    </SfToolbar>
</div>
<style>
#zoominput {
    width : 95px;
}
    </style>


      <SfPdfViewer2 @ref="Viewer" DocumentPath="@DocumentPath" EnableToolbar="false" EnableAnnotationToolbar="false" ContextMenuSettings="@contextMenu"  EnableNavigationToolbar="false" EnableCommentPanel="false" Width="100%" Height="640px"
         FreeTextSettings="@FreeAnnotationSetting" RectangleSettings="@RectangleAnnoSettings" LineSettings="@LineAnnoSettings" CircleSettings="@CircleAnnoSettings" CustomStampSettings="@CustomStampSettings" InkAnnotationSettings="@InkAnnoSettings">
         <PdfViewerHighlightSettings Color="@Color"></PdfViewerHighlightSettings>
         <PdfViewerEvents DocumentLoaded="@DocumentLoaded" AnnotationAdded="OnAnnotationAdd" DocumentEdited="ChangeInFile" PageChanged="@OnPageChanged" AnnotationRemoved="@OnAnnotationRemove" AnnotationSelected="@OnAnnotationSelect" AnnotationUnselected="@OnAnnotationUnSelect" AnnotationMoved="@OnAnnotationMoved"></PdfViewerEvents>  
         <PdfViewerCustomStampSettings CustomStamps="@CustomStamps"></PdfViewerCustomStampSettings>
     </SfPdfViewer2>

</div>

@code {

    private string DocumentPath { get; set; } = "";
    SfPdfViewer2 Viewer;
    private DotNetObjectReference<CustomToolbar> dotnetObjectRef { get; set; }
    protected override void OnInitialized()
    {
        dotnetObjectRef = DotNetObjectReference.Create(this);
        string fileDataPath = NavigationManager.BaseUri + SampleService.WebAssetsPath;

@*Server:Block*@
#if !(WASM || WEBAPP)
        //Sets the PDF document path for initial loading.
        DocumentPath = "wwwroot/data/pdfviewer2/hive-succinctly.pdf";
#endif
@*End:Server*@

@*WebAssembly:Block*@
#if (WASM || WEBAPP)
        //Sets the PDF document path for initial loading.
        DocumentPath= fileDataPath + "data/pdfviewer2/hive-succinctly.pdf";
#endif
        @*End:WebAssembly*@

    }

    #region binded values
    SfTooltip Sftooltip;
    SfTextBox Sftextbox;
    SfUploader uploadFiles;
    PdfViewerContextMenuSettings contextMenu = new PdfViewerContextMenuSettings();
    SfDropDownButton FontColorDropdown;
    SfDropDownButton FillColorDropdown;
    SfDropDownButton StrokeColorDropdown;
    SfDropDownButton ColorDropdown; 
    private bool IsFreeTextTool = false;
    private bool IsShapeTool = false;
    private bool IsHighlightTool = false;
    private bool IsInkTool = false;
    private bool IsImageTool = false;
    private bool IsVisibleDialog = false;
    private bool IsAnnotationSelected = false;
    private bool IsBold = false;
    private bool IsItalic = false;
    private bool IsUnderline = false;
    private bool IsStrikethrough= false;
    private bool IsToolbarIconClicked = false;
    private PdfViewerFreeTextSettings FreeAnnotationSetting = new PdfViewerFreeTextSettings();
    private PdfViewerRectangleSettings RectangleAnnoSettings = new PdfViewerRectangleSettings();
    private PdfViewerLineSettings LineAnnoSettings = new PdfViewerLineSettings();
    private PdfViewerCircleSettings CircleAnnoSettings = new PdfViewerCircleSettings();
    private PdfViewerInkAnnotationSettings InkAnnoSettings = new PdfViewerInkAnnotationSettings();
    private PdfViewerCustomStampSettings CustomStampSettings = new PdfViewerCustomStampSettings();
    private PdfViewerHighlightSettings HightLightSettings = new PdfViewerHighlightSettings();
    List<PdfViewerCustomStamp> CustomStamps;
    Syncfusion.Blazor.SfPdfViewer.PdfAnnotation annotation = new Syncfusion.Blazor.SfPdfViewer.PdfAnnotation();
    private string FontFamilyName { get; set; } = "Helvetica";
    private string FontSize { get; set; } = "16px";
    private string[] FontSizeList { get; set; } = {"8px","10px","12px","16px","22px","36px","48px","72px","96px" };
    private int ShapeThickness { get; set; } = 1;
    private string FillColor { get; set; } = "";
    private string Color { get; set; } = "";
    private string StrokeColor { get; set; } = "";
    private string FontColor { get; set; } = "#000000";
    private string CustomStampSource = "";
    private string ShapeType { get; set; } = "";
    public bool PreviousPageDisable = true;
    public bool NextPageDisable = true;
    public bool PrintDisabled = true;
    public bool DownloadDisabled = true;
    public int TotalPages { get; set; } = 0;
    public int CurrentPageNumber = 0;
    public bool IsChecked { get; set; } = false;
    public string Text = "";
    public string ZoomValue = "100%";
    private bool IsImageSelected = true;
    private List<ImageDetails> Images = new List<ImageDetails>();
    #endregion


    //Method for handle the Toolbar items click
    private async Task ToolbarClick(Syncfusion.Blazor.Navigations.ClickEventArgs args)
    {
        if (args.Item != null)
        {

            // Switch case based on the CSS class of the clicked item
            switch (args.Item.CssClass)
            {
                // Case when the 'Select' tool is clicked
                case "e-pv-select-container":
                    RefreshButtons();
                    // Set the interaction mode to 'TextSelection'
                    Viewer.InteractionMode = InteractionMode.TextSelection;
                    await ResetMode();
                    break;
                case "e-pv-zoom-in-container":
                    //Zoom in  the PDF document being loaded in the PDFViewer2.
                    await Viewer.ZoomInAsync();
                    break;
                case "e-pv-zoom-out-container":
                    //Zoom out the PDF document being loaded in the PDFViewer2.
                    await Viewer.ZoomOutAsync();
                    break;
                case "e-pv-fit-page-container":
                    //Fit page the PDF document being loaded in the PDFViewer2.
                    await Viewer.FitToPageAsync();
                    break;
                // Case when the 'Free text' tool is clicked
                case "e-pv-font-container":
                    RefreshButtons();
                    IsFreeTextTool = true;
                    await AddFreeText();
                    break;
                case "e-pv-print-container":
                    //Print the PDF document being loaded in the PDFViewer2.
                    await Viewer.PrintAsync();
                    break;
                // Case when the 'Image' tool is clicked
                case "e-pv-image-container":
                    RefreshButtons();
                    IsVisibleDialog = true;
                    IsImageTool = true;
                    await ResetMode();
                    break; 
                // Case when the 'Signature' tool is clicked
                case "e-pv-signature-container":
                    RefreshButtons();
                    //set the mode to signature annotation
                    await Viewer.SetAnnotationModeAsync(AnnotationType.HandWrittenSignature);
                    break; 
                // Case when the 'Ink annotation' tool is clicked
                case "e-pv-ink-container":
                    RefreshButtons();
                    if (IsInkTool)
                    {
                        Viewer.InteractionMode = InteractionMode.TextSelection;
                    }
                    else
                    {
                        IsInkTool = true;
                        ShapeType = "Ink";
                        await AddInk();
                    }
                    break;
                // Case when the 'Highlight' tool is clicked
                case "e-pv-highlight-container":
                    RefreshButtons();
                    IsHighlightTool =  true;
                    ShapeType = "Heighlight";
                    await AddHighlight();
                    break;
                // Case when the 'Previous' button is clicked
                case "e-pv-previous-container":
                    // Go to the previous page
                    await Viewer.GoToPreviousPageAsync();
                    break;
                // Case when the 'Next' button is clicked
                case "e-pv-next-container":
                    // Go to the next page
                    await Viewer.GoToNextPageAsync();
                    break;
                case "e-pv-bold-container":
                case "e-pv-bold-container e-select-icon":
                    if (IsBold)
                    {
                        IsBold = false;
                    }
                    else
                    {
                        IsBold = true;
                    }

                    await ModifiedStyle();
                    break;
                case "e-pv-italic-container":
                case "e-pv-italic-container e-select-icon":
                    if (IsItalic)
                    {
                        IsItalic = false;
                    }
                    else
                    {
                        IsItalic = true;
                    }

                    await ModifiedStyle();
                    break;
                case "e-pv-underline-container":
                case "e-pv-underline-container e-select-icon":
                    if (IsUnderline)
                    {
                        IsUnderline = false;
                    }
                    else
                    {
                        IsUnderline = true;
                    }
                    await ModifiedStyle();
                    break;
            }
        }
    }

    public async Task createdHandler()
    {
       await JSRuntime.InvokeVoidAsync("created");
    }

    //Triggers while loading document in to the PDFViewer.
    private void DocumentLoaded(LoadEventArgs args)
    {
        TotalPages = Viewer.PageCount;
        CurrentPageNumber = Viewer.CurrentPageNumber;
        NextPageDisable = false;
        if(TotalPages == 1)
        {
            PreviousPageDisable = true;
            NextPageDisable = true;
        }
    }

    //Triggers when the textbox is created.
    private async void AddIcon()
    {
       await this.Sftextbox.AddIconAsync("append", "e-icons e-search");
    }

    //Function to close tooltip popup while scrolling
    [JSInvokable]
    public void CloseToolTip() 
    {
        Sftooltip.CloseAsync();
    }

    //Triggers when the search tooltip close.
    public async void SearchClose()
    {
        await Viewer.CancelTextSearchAsync();
    }

    //Triggers when match case checkbox is clicked.
    private async void MatchCaseChanged(Microsoft.AspNetCore.Components.ChangeEventArgs args)
    {
        IsChecked = (bool)args.Value;
        if (!IsChecked)
        {
            //Searches the target text in the PDF document and highlights the occurrences in the PDF pages.
            await Viewer.SearchTextAsync(Text, false);
        }
        else
        {
            await Viewer.SearchTextAsync(Text, true);
        }
    }

    //Triggers when search icon is clicked.
    private async void SearchText(string args)
    {
        Text = args;
        if (IsChecked)
        {
            //Searches the target text in the PDF document and highlights the occurrences in the PDF pages.
            await Viewer.SearchTextAsync(args, true);
        }
        else
        {
            await Viewer.SearchTextAsync(args, false);
        }
    }

    //Triggers when next button is clicked.
    private async void NextClick()
    {
        //Searches the next occurrence of the searched text from the current occurrence of the SfPdfViewer.
        await Viewer.SearchNextAsync();
    }

    //Triggers when previous button is clicked.
    private async void PreviousClick()
    {
        //Searches the previous occurrence of the searched text from the current occurrence of the SfPdfViewer.
        await Viewer.SearchPreviousAsync();
    }

    //Triggers when changes occur in uploaded file list by selecting or dropping files.
    public async Task FileUploadSelected(UploadingEventArgs args)
    {
        if (args.FileData.Type == "pdf")
        {
            string base64string = args.FileData.RawFile.ToString();
            //Loads the PDF docuent from the given base64 string in the SfPdfViewer.
            await Viewer.LoadAsync(base64string, null);
            await uploadFiles.ClearAllAsync();
        }
    }

    //Triggers when the value of the numeric textbox changes.
    public async void GoToPage(Syncfusion.Blazor.Inputs.ChangeEventArgs<int> args)
    {
        int currentValue = args.Value;
        if (args.Event != null)
        {
            var changeEventArgs = args.Event as Microsoft.AspNetCore.Components.ChangeEventArgs;
            if (changeEventArgs != null && changeEventArgs.Value != null)
            {
                currentValue = int.Parse(changeEventArgs.Value.ToString());
            }
        }
        if (currentValue == args.Value && args.Value != 0)
        {
            CurrentPageNumber = args.Value;
            //Navigate to given page number in loaded document of the PDFViewer2.
            await Viewer.GoToPageAsync(args.Value);
        }
        else
        {
            CurrentPageNumber = Viewer.CurrentPageNumber;
        }
    }
    //Method for Zoom value change in the pdf viewer
    private async void ZoomValueChange(ChangeEventArgs<string, AnnotationProperties> args)
    {
        if(args.Value != null || args.PreviousItem != null)
        {
            if(args.Value == "Automatic" || args.Value == "Fit Height" || args.Value == "Fit Width" || args.Value == "Fit Page")
            {
                switch (args.Value)
                {
                    case "Automatic":
                        await Viewer.ZoomAsync(100);
                        break;
                    case "Fit Height":
                        await Viewer.FitToHeightAsync();   
                        break;
                    case "Fit Width":
                        await Viewer.FitToWidthAsync();
                        break;
                    case "Fit Page":
                        await Viewer.FitToPageAsync();
                        break;
                }
                int zoom = await Viewer.GetZoomPercentageAsync();
                ZoomValue = zoom.ToString() + "%";
                StateHasChanged();

            }
            else
            {
                int zoom=Convert.ToInt32(args.Value.ToString().Replace("%", ""));
                await Viewer.ZoomAsync(zoom);

            }
        }

    }
    //Triggers when there is change in the current page number.
    private void OnPageChanged(PageChangeEventArgs args)
    {
        CurrentPageNumber = (int)args.CurrentPageNumber;
        if (args.CurrentPageNumber == TotalPages)
        {
            NextPageDisable = true;
            PreviousPageDisable = false;
        }
        if (args.CurrentPageNumber < TotalPages && args.CurrentPageNumber != 1)
        {
            PreviousPageDisable = false;
            NextPageDisable = false;
        }
        if (args.CurrentPageNumber == 1)
        {
            NextPageDisable = false;
            PreviousPageDisable = true;
        }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("getInstance", dotnetObjectRef);
            JSRuntime.InvokeVoidAsync("closeTooltipPopup", "CloseToolTip");
        } 
    }

    public void Dispose()
    {
        dotnetObjectRef?.Dispose();
    }
    //Method for decide the annotation type After annotation select
    private async Task OnAnnotationSelect(AnnotationSelectEventArgs annotationSelectEventArgs)
    {
        List<Syncfusion.Blazor.SfPdfViewer.PdfAnnotation> pdfAnnotationList = new List<Syncfusion.Blazor.SfPdfViewer.PdfAnnotation>();
        //Get the details about the annotations in the pdf viewer
        pdfAnnotationList = await Viewer.GetAnnotationsAsync();
        int selectedAnnotationIndex = pdfAnnotationList.FindIndex(item => item.Id == annotationSelectEventArgs.AnnotationId);
        if(selectedAnnotationIndex != -1)
        {
            annotation = pdfAnnotationList[selectedAnnotationIndex];
        }
        if (annotation != null)
        {
            RefreshButtons();
            RefreshIcon();
            IsAnnotationSelected = true;
            //Set the annotations type for update the annotation type after select the annotation
            if(annotation.Type == AnnotationType.FreeText)
            {
                FontFamilyName =annotation.FontFamily;
                FontSize = annotation.FontSize.ToString() + "px";

                if(annotation.FontStyle.ToString().Contains("Bold"))
                {
                    IsBold = true;
                }
                if(annotation.FontStyle.ToString().Contains("Italic"))
                {
                    IsItalic = true;
                }
                if(annotation.FontStyle.ToString().Contains("Underline"))
                {
                    IsUnderline = true;
                }
                IsFreeTextTool = true;
            }
            else if(annotation.Type == AnnotationType.Line || annotation.Type == AnnotationType.Rectangle || annotation.Type == AnnotationType.Circle || annotation.Type == AnnotationType.Arrow || annotation.Type == AnnotationType.Polygon || annotation.Type == AnnotationType.Distance || annotation.Type == AnnotationType.Perimeter || annotation.Type == AnnotationType.Radius || annotation.Type == AnnotationType.Volume || annotation.Type == AnnotationType.Area )
            {
                ShapeThickness = annotation.Thickness;
                IsShapeTool = true;
            }
            else if(annotation.Type ==AnnotationType.Ink)
            {
                ShapeThickness = annotation.Thickness;
                IsInkTool = true;
            }
            else if(annotation.Type ==AnnotationType.Highlight || annotation.Type == AnnotationType.Strikethrough || annotation.Type == AnnotationType.Underline)
            {
                IsHighlightTool = true;
            }
        }
    }
    //Method for the handle the annotation unselect 
    private void OnAnnotationUnSelect()
    {
        RefreshIcon();
        IsAnnotationSelected = false;
        bool temp = IsHighlightTool;
        if (!IsToolbarIconClicked)
        {
            RefreshButtons();
        }
        if (temp)
        {
            IsHighlightTool = true;
            ShapeType = "Heighlight";
        }
    }
    //Method for handle the free text annotation unselect
    public void ChangeInFile(DocumentEditedEventArgs args)
    {
        if (args.EditingAction == EditingAction.AnnotationAdded && IsFreeTextTool)
        {
            RefreshButtons();
        }
    }
    //Method for the set annotation when the annotation moved
    private async Task OnAnnotationMoved(AnnotationMoveEventArgs annotationSelectEventArgs)
    {
        List<Syncfusion.Blazor.SfPdfViewer.PdfAnnotation> pdfAnnotationList = new List<Syncfusion.Blazor.SfPdfViewer.PdfAnnotation>();
        pdfAnnotationList = await Viewer.GetAnnotationsAsync();
        int selectedAnnotationIndex = pdfAnnotationList.FindIndex(item => item.Id == annotationSelectEventArgs.AnnotationId);
        if(selectedAnnotationIndex != -1)
        {
            annotation = pdfAnnotationList[selectedAnnotationIndex];
        }
    }
    //Method for applying download the document 
    private async Task DownloadDocument()
    {
        await Viewer.DownloadAsync();
        // Refresh the buttons
        RefreshButtons();
    }
    //Method for the handle the annotation remove 
    private void OnAnnotationRemove(AnnotationRemoveEventArgs args)
    {
        RefreshIcon();
        RefreshButtons();
        IsAnnotationSelected = false;
    }
    //Class for the dropdown value
    public class AnnotationProperties
    {
        public string ID { get; set; }
        public string Text { get; set; }
    }
    List<AnnotationProperties> FontFamilyList = new List<AnnotationProperties>()
    {
        new AnnotationProperties(){ ID= "Helvetica", Text= "Helvetica" },
        new AnnotationProperties(){ ID= "Courier", Text= "Courier" },
        new AnnotationProperties(){ ID= "Symbol", Text= "Symbol" },
        new AnnotationProperties(){ ID= "Times New Roman", Text= "Times New Roman"}
    };
        List<AnnotationProperties> ZoomList = new List<AnnotationProperties>()
    {
        new AnnotationProperties(){ ID= "10%", Text= "10%" },
        new AnnotationProperties(){ ID= "25%", Text= "25%" },
        new AnnotationProperties(){ ID= "50%", Text= "50%" },
        new AnnotationProperties(){ ID= "75%", Text= "75%" },
        new AnnotationProperties(){ ID= "100%", Text= "100%" },
        new AnnotationProperties(){ ID= "125%", Text= "125%" },
        new AnnotationProperties(){ ID= "150%", Text= "150%" },
        new AnnotationProperties(){ ID= "200%", Text= "200%" },
        new AnnotationProperties(){ ID= "400%", Text= "400%" },
        new AnnotationProperties(){ ID= "Automatic", Text= "Automatic" },
        new AnnotationProperties(){ ID= "Fit Height", Text= "Fit Height" },
        new AnnotationProperties(){ ID= "Fit Width", Text= "Fit Width" },
        new AnnotationProperties(){ ID= "Fit Page", Text= "Fit Page" },
    };
    //Method for converting the Font style from the buttons
    public Syncfusion.Blazor.SfPdfViewer.FontStyle ConvertToFontStyle(bool isBold, bool isItalic, bool isUnderline, bool isStrikeout)
    {
        if (isBold)
        {
            if (isItalic)
            {
                return isUnderline
                    ? Syncfusion.Blazor.SfPdfViewer.FontStyle.Bold | Syncfusion.Blazor.SfPdfViewer.FontStyle.Italic | Syncfusion.Blazor.SfPdfViewer.FontStyle.Underline
                    : Syncfusion.Blazor.SfPdfViewer.FontStyle.Bold | Syncfusion.Blazor.SfPdfViewer.FontStyle.Italic;
            }

            return isUnderline
                ? Syncfusion.Blazor.SfPdfViewer.FontStyle.Bold | Syncfusion.Blazor.SfPdfViewer.FontStyle.Underline
                : Syncfusion.Blazor.SfPdfViewer.FontStyle.Bold;
        }
        else
        {
            if (isItalic)
            {
                return isUnderline
                    ? Syncfusion.Blazor.SfPdfViewer.FontStyle.Italic | Syncfusion.Blazor.SfPdfViewer.FontStyle.Underline
                    : Syncfusion.Blazor.SfPdfViewer.FontStyle.Italic;
            }

            return isUnderline
                ? Syncfusion.Blazor.SfPdfViewer.FontStyle.Underline
                : Syncfusion.Blazor.SfPdfViewer.FontStyle.None;
        }
    }
    //Method for add the free text annotation
    private async Task AddFreeText()
    {
        FreeAnnotationSetting = new PdfViewerFreeTextSettings()
        {
            FontFamily = FontFamilyName,
            FontColor = FontColor,
            FontSize = Convert.ToDouble(FontSize.Replace("px","")),
            FontStyle = ConvertToFontStyle(IsBold, IsItalic, IsUnderline, IsStrikethrough)
        };
        StateHasChanged();
        await ResetMode();
        IsToolbarIconClicked = true;
        //Set the mode for the Add free text annotation
        await Viewer.SetAnnotationModeAsync(AnnotationType.FreeText);
    }
    //Method for add the Highlight annotation
    private async Task AddHighlight()
    {
        HightLightSettings = new PdfViewerHighlightSettings()
        {
            Color = Color
        };
        StateHasChanged();
        await ResetMode();
        IsToolbarIconClicked = true;
        //Set the mode for the Highlight annotation
        await Viewer.SetAnnotationModeAsync(AnnotationType.Highlight);
    }
    //Method for the Add the Line Annotation
    private async Task AddLine()
    {
        LineAnnoSettings = new PdfViewerLineSettings()
        {
           StrokeColor = StrokeColor,
           Thickness = ShapeThickness,
        };
        StateHasChanged();
        await ResetMode();
        IsToolbarIconClicked = true;
        //Set the mode for the line annotation
        await Viewer.SetAnnotationModeAsync(AnnotationType.Line);
    }
    //Method for the Add the Rectangle Annotation
    private async Task AddRectangle()
    {
        RectangleAnnoSettings = new PdfViewerRectangleSettings()
        {
            StrokeColor = StrokeColor,
            Thickness = ShapeThickness,
            FillColor = FillColor

        };
        StateHasChanged();
        await ResetMode();
        IsToolbarIconClicked = true;
        //Set the mode for the Rectangle annotation
        await Viewer.SetAnnotationModeAsync(AnnotationType.Rectangle);

    }
    //Method for the Add the Circle Annotation
    private async Task AddCircle()
    {
        CircleAnnoSettings = new PdfViewerCircleSettings()
        {
            StrokeColor = StrokeColor,
            Thickness = ShapeThickness,
            FillColor = FillColor
        }; 
        StateHasChanged();
        await ResetMode();
        IsToolbarIconClicked = true;
        //Set the mode for the Circle annotation
        await Viewer.SetAnnotationModeAsync(AnnotationType.Circle);

    }
    //Method for the Add the stamp Annotation
    private async Task AddStamp()
    {
        CustomStamps = new List<PdfViewerCustomStamp>() { new PdfViewerCustomStamp { CustomStampImageSource = CustomStampSource } };
        if (IsImageTool)
        {
            CustomStampSettings = new PdfViewerCustomStampSettings();
        }
        else
        {
            CustomStampSettings = new PdfViewerCustomStampSettings()
            {
                Height = 16,
                Width = 16
            }; 
        }
        StateHasChanged();
        IsToolbarIconClicked = true;
        //Set the mode for the stamp annotation annotation
        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp);
    }
    //Method for the Add the Ink Annotation
    private async Task AddInk()
    {
        InkAnnoSettings = new PdfViewerInkAnnotationSettings()
        {
            Thickness = ShapeThickness,
            StrokeColor = StrokeColor
        };
        StateHasChanged();
        IsToolbarIconClicked = true;
        //Set the mode for the Ink annotation
        await Viewer.SetAnnotationModeAsync(AnnotationType.Ink);
    }
    //Method for reset the annotation mode
    private async Task ResetMode()
    {
        //Set the mode for the none
        await Viewer.SetAnnotationModeAsync(AnnotationType.None);
    }
    //Method for Adding the annotation continuously 
    private  async Task OnAnnotationAdd(AnnotationAddEventArgs args)
    {

        List<Syncfusion.Blazor.SfPdfViewer.PdfAnnotation> pdfAnnotationList = new List<Syncfusion.Blazor.SfPdfViewer.PdfAnnotation>();
        pdfAnnotationList = await Viewer.GetAnnotationsAsync();
        int selectedAnnotationIndex = pdfAnnotationList.FindIndex(item => item.Id == args.AnnotationId);
        if(selectedAnnotationIndex != -1)
        {
            annotation = pdfAnnotationList[selectedAnnotationIndex];
        }
        if(annotation.Type == AnnotationType.FreeText)
        {
            IsAnnotationSelected = false;
        }
        else
        {
            IsAnnotationSelected = true;
        }
        IsToolbarIconClicked = false;

    }

    @*Hidden:Lines*@

    private List<CustomMenuItem> MenuItems = new List<CustomMenuItem>
    {
        new CustomMenuItem { Id = "Dynamic", Text = "Dynamic", Items = new List<CustomMenuItem>()
        {
            new CustomMenuItem { Id = "DApproved", Text = "Approved"},
            new CustomMenuItem { Id = "DNotApproved", Text = "Not Approved"},
            new CustomMenuItem { Id = "DConfidential", Text = "Confidential" },
            new CustomMenuItem { Id = "DReceived", Text = "Received" },
            new CustomMenuItem { Id = "DReviewed", Text = "Reviewed" },
            new CustomMenuItem { Id = "DRevised", Text = "Revised" }
        } },
        new CustomMenuItem { Id = "SignHere", Text = "Sign Here", Items = new List<CustomMenuItem>()
        {
            new CustomMenuItem { Id = "Accepted", Text = "Accepted" },
            new CustomMenuItem { Id = "InitialHere", Text = "Initial Here" },
            new CustomMenuItem { Id = "Rejected", Text = "Rejected"},
            new CustomMenuItem { Id = "Sign Here", Text = "Sign Here" },
            new CustomMenuItem { Id = "Witness", Text = "Witness" },
        } },
        new CustomMenuItem { Id = "StandardBusiness", Text = "Standard Business", Items = new List<CustomMenuItem>()
        {
            new CustomMenuItem { Id = "Approved", Text = "Approved" },
            new CustomMenuItem { Id = "Completed", Text = "Completed"},
            new CustomMenuItem { Id = "Confidential", Text = "Confidential" },
            new CustomMenuItem { Id = "Draft", Text = "Draft"},
            new CustomMenuItem { Id = "Final", Text = "Final" },
            new CustomMenuItem { Id = "ForComment", Text = "For Comment" },
            new CustomMenuItem { Id = "ForPublicRelease", Text = "For Public Release" },
            new CustomMenuItem { Id = "InformationOnly", Text = "Information Only" },
            new CustomMenuItem { Id = "NotApproved", Text = "Not Approved" },
            new CustomMenuItem { Id = "NotForPublicRelease", Text = "Not For Public Release" },
            new CustomMenuItem { Id = "PreliminaryResults", Text = "Preliminary Results"},
            new CustomMenuItem { Id = "Void", Text = "Void" }
        } },
        };
    SfContextMenu<CustomMenuItem> ContextMenuItem;

    //Method for the oen the context menu for the stamp
    private void OnMenuCreated()
    {
        ContextMenuItem.Open();
    }

    public class CustomMenuItem
    {
        public List<CustomMenuItem> Items { get; set; }
        public string Id { get; set; }
        public string Text { get; set; }
    }
    //Method for handle the stamp annotation type set to the mode
    private async void StampSelect(MenuEventArgs<CustomMenuItem> args)
    {
        if (args.Item != null)
        {
            RefreshButtons(); 
            await Viewer.SetAnnotationModeAsync(AnnotationType.None);
            if (args.Item.Id != "Stamp" && args.Item.Id != "Dynamic" && args.Item.Id != "SignHere" && args.Item.Id != "StandardBusiness")
            {
                switch(args.Item.Id)
                {
                    case "DApproved":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, DynamicStampItem.Approved, null, null);
                        break;
                    case "DNotApproved":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, DynamicStampItem.NotApproved, null, null);
                        break;
                    case "DConfidential":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, DynamicStampItem.Confidential, null, null);
                        break;
                    case "DReceived":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, DynamicStampItem.Received, null, null);
                        break;
                    case "DReviewed":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, DynamicStampItem.Reviewed, null, null);
                        break;
                    case "DRevised":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, DynamicStampItem.Revised, null, null);
                        break;
                    case "Accepted":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, SignStampItem.Accepted, null);
                        break;
                    case "InitialHere":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, SignStampItem.InitialHere, null);
                        break;
                    case "Rejected":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, SignStampItem.Rejected, null);
                        break;
                    case "Sign Here":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, SignStampItem.SignHere, null);
                        break;
                    case "Witness":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, SignStampItem.Witness, null);
                        break;
                    case "Approved":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.Approved);
                        break;
                    case "Completed":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.Completed);
                        break;
                    case "Confidential":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.Confidential);
                        break;
                    case "Draft":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.Draft);
                        break;
                    case "Final":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.Final);
                        break;
                    case "ForComment":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.ForComment);
                        break;
                    case "ForPublicRelease":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.ForPublicRelease);
                        break;
                    case "PreliminaryResults":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.PreliminaryResults);
                        break;
                    case "NotApproved":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.NotApproved);
                        break;
                    case "NotForPublicRelease":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.NotForPublicRelease);
                        break;
                    case "Void":    
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.Void);
                        break;
                    case "InformationOnly":
                        await Viewer.SetAnnotationModeAsync(AnnotationType.Stamp, null, null, StandardBusinessStampItem.InformationOnly);
                        break;
                }
            }
        }

    }

    //Method for Identify the annotation shape from the dropdown
    private async Task ShapeSelected(MenuEventArgs args)
    {
       RefreshButtons();
        IsShapeTool = true;
        if(args != null)
        {
            switch(args.Item.Text )
            {
                case "Line":
                    ShapeType = "Line";
                    await AddLine();
                    break;
                case "Rectangle":
                    ShapeType = "Rectangle";
                    await AddRectangle();
                    break;
                case "Circle":
                    ShapeType = "Circle";
                    await AddCircle();
                    break;
            }
            IsToolbarIconClicked = true;
        }
    }
    //Method for Identify the icon from the dropdown
    private async Task IconSelected(MenuEventArgs args)
    {
       RefreshButtons();
        if (args != null)
        {
            switch (args.Item.Text)
            {
                case "Check":
                    CustomStampSource = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAKtSURBVHjatFZbSBRRGP7OmduyFzPylqJhLFsYPfkURCERPthbBPXQQxZhvnQjgkAQJCJ8iCK6GBjUY0EFKV0fAh97KIQotRBMrVU313Fm3Jk553R2TVlos7XGA8Nc+Of7vv+f7//PECEE1nJRrPFS828IIf+GcgTlJIQBwVEPgi7cQtdSZQLJQIL3GJVqfaxR1yDQkSUMrkTHsZOoZE90s64JL8uGNOaRCobgABSqkN7SeChGKcHCqG+BoxMPwIIh2IBWLUyrIxUafJODmdzBD9wJxkXtiFJCLlc0RCJZc5gjmXnBcE6qdwMhoIyej5brRqhERSblw7dFCrO4v6JNV6G+CkKcqdoaDcuPitTwgil8cSq/9v+VgQJ6sWxTWDHCKqykC5bhE7Lyj4Lp5KOIA+JQdSJmENlLyU+WxZlUX0wn5xpEQZ2kddGDwYIvGORaTaJE13UFya8WmCdGcRvPiiKgBnkn/VxpGIrttPmaqtA+12N3JVlfLuAYGkHJ7pp4icKk4Sc+mln1p4ueRTK4hVDyPJEoK23YVqYPDaf2Dw9N7zXbPY/5vFPVlMPx7etDqkoxM26Du3xcqn+54hjJH9e5YScdooH2b6yObdnVVBfm8tH3pIUPg1NWenZB2dFcG/LlVHv7aty05rxWSfCwEPAS7u8EiyNA1yuVe5GItq+peXNE1Qk8xuBynjtPJ228H/g2yaZEbSFr5hMUdpHsRvc6O2jOuVf6nwzZju3nyLPBsnsxNpK2BBfdfwIv2qb+Td7hevzCi6efbcdaJHEzHDOTDpHJ9Aayo/Eb/KqX4Wdf939xXIdhYnSOSyM8ls5KF7VXFPwGhZS005O6Ti/JcJ6x/RbZuW9WAl7GzV4sHX9N9wS6aRsZK0b5MuZqCH7tYOtWQ0DW+rflpwADAPxaPdG3Dy+cAAAAAElFTkSuQmCC";
                    break;
                case "Cross":
                    CustomStampSource = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAANoSURBVHja1JZdaBRnFIafb/anm50katQoFaShZROlFkUERS+MemVR2iuRImo1aeuNtvd70yh65ZUYdJOApYh6o6BQWgp6oRRCSwR/WqM1NZpofvxJsjub/Zuv58u4y2bdxCh44cDHzHw7877nvOc9Z1ZprXmXh8U7Pvz5C6UUMdhgWZzOuiwI+ji1O8eutwUuKGMuzGqFRe0W8b4IOrMCfT5MvMNH+0zA2iwOxhSpDotbbVBTjFuQyAcr59nkPqyStGR3cwS7MsA2IT00HXjMolWeO/B5hOB8mwafNTnrAkEO/hpO4B9NefciEVvqsUN+9gvJD1OBVwXYsb4OW4BJZARQ0fOKVnm9JNV9PwVIjC2TrZXein+GPuXHafOxsxT8zAfEBxrQQ0vQv81G/xzgZinuJBftdTmeyRE9/w9OPO3t2QHYWk+FJNR6Ui6LI2+UyCViup9C/xhPJIO1pVmqfPTGRfnDSBLw0fJlA+HKILjyyGACfrlLIqe5XBWkMQ/eNwZd/YyOuyz9Tm5LXVSWoJjki3rCFZJFzpUo49DzHGdZLWEDPpyEq72k5LdV38CNcjadkqBAYtEiDglLsZHoJ4jMMma48h/jrsv2vXBhqj6YtpP3uBzNuEQvdeNkXgJPkMjq7CMuzjtYDvyNRoVgLZHotUQ6UYv8eVE1FUqzrwPmvzWB2DYmBd2+QQpqEi5kIOfFs/DJqnUVV0/ArDcmKAY3Bc0K8LVenF/vkTQNZYjq5uCvreQjv+L3o1AxY4I8+EbTocqTpPMh40+TdGY0P/7xECeR9kg+nkOwOsSn1YqL52QAvJagGNxEbkC6HpMacPh7VLO5yeVIWhP9sx8nmfbIP6khZAdZ/UJxdloCseXhArjlgd8eItM7wiPRvVEGUtI812zcJSRdA0KS8UjqZmOH/WySadpetpOPK7UwZNGzNULI7/MKee8Z2VtDDCqX5V/DUGl0J6VPpD1aIvMIGynT8s79ZzLzcnzfpHVsUgaCWSOSuGYqGvAHI7g3BhmTj8+acuD5TLIQvTOMk8p6np4bxpae3fGKRN+KGqaW0p2ORM31J4yKROtkBPROZ2VDIg0X/VdGiCNyJVKkhKi77LAzLngu78htvey2GtKZfiJl0poPzTEUVwTyq2atRyYRvLf/Kv4XYAAnipiOY10VpQAAAABJRU5ErkJggg==";
                    break;
                case "Star":
                    CustomStampSource = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAACiklEQVR4nO2aTYhOURjHf6/P2WBQvjdKI58LJKVeG0XZkF4lTMrHAjVsSBaKlCxoFpRSmLITyUT5WJAM05SFj1BjQT7KAs0YGmOurp5br9v7Xue8c58z58S//st7zvO7H895znMu/JeR6oA24DZQIGCtByJxkYB1owzkLIFqGtBXBtINjCZAHSyDSLyVwFQAOiuA3CcwLa8AkXg2AelCBsgxAtEY4GsGyAdgOAFoZwZE4tUEoA4DkCt4rnkGELF/AJPxWM2GILH34qlGAB8tQF74Wkius4BIvBQPdb0GkDOug6yXInAWsFhW7rXAZmAXcCBVIJq6C9gH7AAagTUy9iJgJjDVptDcBrQAl4Cbkj6fA2+BLzUEp+XPwBvgGdAusV4EzgElpLyOAndnDLJSaAc7mIE8qRXJ6zUDeOpBUJGlX8p3+4dGAZc9CC4y9DVJQhVVkCzy04NAoyruB44CQ0wyWcnTJPAN2Iil5gOvPAg+Er8GFlKjxgO3PIC4C0xggBom7+RgQZzOe0e5AehxCPAd2IKSFsi7qg3xDliCsqZIraMF0S5zONEJRZDjONQTRZDHriAmyeqqBdLvqjHR6OBj3+QCpMUByHltiIKkRm2Q99odlrkOICLxHE2Q3Q5BmjRBWi2D6QWOiHstr23V7CR2WQTyKFV2x33hhxbXdwMjNUCWGQbQI7vMoRXGiHd12y1uSFED5LDBxHeABoOxpqeOrqv5kAbIg4wJP8mdtk2Zpb80vtvyhqjPaIleldZmrZqYscj2AWNz5Pjdk620aMX937y0qspeJ9djulOpoi6+g+PQOUhtTrWjTuY5wb2ywxkXP8cUZa7cfzKIB94vvy25Uh2wR9L+v6NfqcfPxTBhRuQAAAAASUVORK5CYII=";
                    break;
            }
            IsToolbarIconClicked = true;
            await AddStamp();
        }
    }
    //Refresh the Icon 
    private void RefreshIcon()
    {
        IsBold = false;
        IsUnderline =false;
        IsItalic = false;
    }
    @*End:Hidden*@
    //Method for refresh the buttons in the toolbar
    private void RefreshButtons()
    {
        ClosePopUp();
        IsFreeTextTool = false;
        IsShapeTool = false;
        IsHighlightTool = false;
        IsInkTool = false;
        IsImageTool = false;
        IsVisibleDialog = false;
        ShapeType = "";
        FillColor ="";
        FontColor = "";
        Color ="#ffff00";
        StrokeColor = "";
        ShapeThickness = 1;
        FontFamilyName = "Helvetica";
        FontSize = "16px";
        CustomStampSettings = new PdfViewerCustomStampSettings();
        InkAnnoSettings = new PdfViewerInkAnnotationSettings();
        LineAnnoSettings = new PdfViewerLineSettings();
        RectangleAnnoSettings = new PdfViewerRectangleSettings();
        LineAnnoSettings = new PdfViewerLineSettings();
        FreeAnnotationSetting = new PdfViewerFreeTextSettings();
        IsAnnotationSelected = false;
        IsToolbarIconClicked = false;
    } 
    //Method for the Font size is changing
    private async Task FontSizeChange(ChangeEventArgs<string, string> args)
    {
        if (IsAnnotationSelected)
        {
            annotation.FontSize = int.Parse(FontSize.Replace("px",""));
            await Viewer.EditAnnotationAsync(annotation);
        }
        else
        {
            if (IsFreeTextTool)
            {
                await AddFreeText();
            }
        }
    }
    //Method for the Font family changing
    private async Task OnFontFamilyChange()
    {
        if (IsAnnotationSelected)
        {
            annotation.FontFamily = FontFamilyName;
            await Viewer.EditAnnotationAsync(annotation);
        }
        else
        {
            if (IsFreeTextTool)
            {
                await AddFreeText();
            }
        }
    }
    //Method for the Font color changing
    private async Task ColorChanged()
    {
        FontColorDropdown.Toggle();
        if (IsAnnotationSelected)
        {
            annotation.FontColor = FontColor;
            await Viewer.EditAnnotationAsync(annotation);
        }
        else
        {
            await AddFreeText();
        }
    }
    //Method for change the font style
    private async Task ModifiedStyle()
    {
        if (IsAnnotationSelected)
        {
            annotation.FontStyle = ConvertToFontStyle(IsBold, IsItalic, IsUnderline, IsStrikethrough);
            await Viewer.EditAnnotationAsync(annotation);
        }
        else
        {
            await AddFreeText();
        }
    }
    //Method for shape thickness changing
    private async Task ThicknessChange()
    {
        if (IsAnnotationSelected)
        {
            annotation.Thickness = ShapeThickness;
            await Viewer.EditAnnotationAsync(annotation);
        }
        else
        {
            if (ShapeType == "Line")
            {
                await AddLine();
            }
            else if (ShapeType == "Rectangle")
            {
                await AddRectangle();
            }
            else if (ShapeType == "Circle")
            {
                await AddCircle();
            }
            else if (ShapeType == "Ink")
            {
                await AddInk();
            }
        }
    }
    //Method for shape stroke color changing
    private async Task StrokeColorChanged()
    {
        StrokeColorDropdown.Toggle();
        if (IsAnnotationSelected)
        {
            annotation.StrokeColor = StrokeColor;
            await Viewer.EditAnnotationAsync(annotation);
        }
        else
        {
            if (ShapeType == "Line")
            {
                await AddLine();
            }
            else if (ShapeType == "Rectangle")
            {
                await AddRectangle();
            }
            else if (ShapeType == "Circle")
            {
                await AddCircle();
            }
            else if (ShapeType == "Ink")
            {
                await AddInk();
            }
        }
    }
    //Method for shape fill color changing
    private async Task FillColorChanged(ColorPickerEventArgs args)
    {
        FillColor = args.CurrentValue.Hex;
        FillColorDropdown.Toggle();
        if (IsAnnotationSelected)
        {
            annotation.FillColor = FillColor;
            await Viewer.EditAnnotationAsync(annotation);
        }
        else
        {
            if (ShapeType == "Line")
            {
                await AddLine();
            }
            else if (ShapeType == "Rectangle")
            {
                await AddRectangle();
            }
            else if (ShapeType == "Circle")
            {
                await AddCircle();
            }
        }
    }
    //Method for Highlight color changing
    private async Task HighlightColorChanged(ColorPickerEventArgs args)
    {
        Color = args.CurrentValue.Hex;
        ColorDropdown.Toggle();
        if (IsAnnotationSelected)
        {
            annotation.Color = Color;
            await Viewer.EditAnnotationAsync(annotation);
        }
        else
        {
            await ResetMode();
            StateHasChanged();
            //Set the mode for the Highlight annotation
            await Viewer.SetAnnotationModeAsync(AnnotationType.Highlight);
        }
    }
    //Method for close the dialog box
    private void ClosePopUp()
    {
        IsVisibleDialog = false;
        StateHasChanged();
    }
    //Class for the Custom stamp images
    private class ImageDetails
    {
        public string ImageData { get; set; }
        public bool ImageSelected { get; set; }
    }
    //Method for selecting the custom imgage
    private async Task ImageSelected(int i)
    {
        CustomStampSource = Images[i].ImageData;
        RefreshImages();
        Images[i].ImageSelected = true;
    }
    //Method for cancel button
    private async Task CancelImage()
    {
        ClosePopUp();
        await ResetMode();
    }
    //Method for Add the custom stamp
    private async Task AddImage()
    {
        foreach(ImageDetails image in Images)
        {
            if(image.ImageSelected)
            {
                CustomStampSource = image.ImageData;
                await AddStamp();
                break;
            }
        }
        ClosePopUp();
    }
    //Method for unselect the images
    private void RefreshImages()
    {
        if (Images != null)
        {
            foreach(ImageDetails image in Images)
            {
                image.ImageSelected = false;
            } 
        }

    }
    //Method for load the custom image
    private async Task ImageChane(UploadChangeEventArgs action)
    {
        IsImageSelected = false;
        string base64 = action.Files[0].File.ToString();
        string type = action.Files[0].FileInfo.Type.ToLower(); 
        var fileStream = new MemoryStream();
        await action.Files[0].File.OpenReadStream(long.MaxValue).CopyToAsync(fileStream);
        string baseString = Convert.ToBase64String(fileStream.ToArray());
        string image = "data:image/jpeg;base64," + baseString;
        RefreshImages();
        if(Images.Count > 2)
        {
            Images.Remove(Images[0]);   
        }
        ImageDetails newImage = new ImageDetails()
        {
            ImageData = image,
            ImageSelected = true
        };
        Images.Add(newImage);
        CustomStampSource = Images[Images.Count - 1].ImageData;
        ClosePopUp();
        await AddStamp();
        fileStream.Close();
    }
}

@*Hidden:Lines*@
<!--Style for custom toolbar-->
<style>
    .e-previous {
        width: 48%;
    }

    .e-next {
        width: 48%;
        margin-left:4px;
    }

    .div{
        padding-top: 10px;
    }

    .buttondiv{
        padding-top: 10px;
        width:100%;
    }

    .checkboxdiv
    {
        padding: 6px 0px;
        text-align: left;
    }

    .checkboxdiv .e-frame
    {
        border-color: inherit;
    }

    .e-pv-current-page-number {
        width: 46px;
        height: 28px;
        text-align: center;
    }

    .material .e-pv-current-page-number {
        border-width: 1px;
    }

    .e-pv-total-page-container {
        margin-left: 6px;
    }

    .magnification-toolbar{
        background: transparent;
        height: auto;
        min-height: 56px;
        border: none;
        position: absolute;
        z-index: 1001;
        bottom: 80px;
        right: 16px;
        transform: rotate(90deg);
    }

    .magnification-toolbar .e-toolbar{
        background: transparent !important;
        border: none;
        box-shadow: none !important;
    }

    .magnification-toolbar .e-toolbar .e-toolbar-items{
        background: transparent !important;
    }

    .magnification-toolbar .e-toolbar .e-tbar-btn {
        min-height: 30px;
        min-width: 30px;
        border: 1px solid #c8c8c8;
    }

    .magnification-toolbar .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn {
        border-radius: 30px;
    }

    .magnification-toolbar .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn {
        min-height: 35px;
        min-width: 35px;
    }

    #fitpage{
        margin-right: 4px;
    }

    #zoomin{
        margin-right: 4px;
    }

    #zoomout{
        margin-right: 4px;
    }

    .e-pv-zoom-out-container button {
         transform: rotate(90deg);
    }
    .image-list {
        display: flex;
        justify-content: center;
        gap: 35px;
    }
    .image-container-selected {
        border: 1px solid #757575 !important;
    }
    .image-container:hover {
        border: 1px solid #757575;
    }
    .e-pv-primary-toolbar .e-toolbar {
        border-left-width: 1px !important;
        border-right-width: 1px !important;
    }
    .e-bigger .e-tbar-btn-text {
        padding: 6px 4px !important;
    }
    .e-bigger.highcontrast .e-tbar-btn-text {
        padding: 0 15px 0 10px !important
    }
    .e-bigger .e-pv-secondary-toolbar .e-toolbar .e-toolbar-item {
        min-width:auto !important;
    }
    .e-bigger .e-toolbar .e-toolbar-item.e-pv-black-out-container .e-tbar-btn.e-btn,
    .e-bigger .e-toolbar .e-toolbar-item.e-pv-white-out-container .e-tbar-btn.e-btn {
        padding-top : 5px !important;
    }
    .e-bigger .e-icons.e-close {
        width:100%;
    } 
    .e-pv-primary-toolbar .e-toolbar-item.e-template .e-dropdown-btn {
        font-size:14px;
    }
    .e-bigger .e-pv-primary-toolbar .e-toolbar-item.e-template .e-dropdown-btn {
        font-size:16px;
    }
    .e-icons.e-shapes,
    .e-icons.e-stamp,
    .e-icons.e-circle-add{
        position: relative;
        top: -4px;
    }
    .e-toolbar .e-toolbar-item .e-tbar-btn.e-tbtn-txt .e-icons.e-btn-icon {
        padding: 4px !important;
    }
    .e-dropdown-menu .e-item {
        align-items: center;
    }
    .e-pv-secondary-toolbar .e-toolbar {
        height: 47px !important;
        border-width: 1px !important;
        min-height: auto !important;
    }
    .e-pv-primary-toolbar .e-toolbar .e-toolbar-item.e-separator {
        height : 48px !important;
    }
    .e-template .e-control-container {
        border: none !important;
        background-color: inherit !important;        
    }
    .e-bigger .Page-container {
        font-size:16px;
    }
    .e-bigger.material3 .e-pv-primary-toolbar .e-tbar-btn-text {
        padding: 4px !important;
    }
    .image-source {
        width: 70px;
        height: 70px;
    }
    .dialog-container .e-dlg-header {
        display: flex !important;
        justify-content: space-between;
    }
    .close-button{
        border: none;
        background-color: inherit;
        box-shadow:none;
    }
    .e-select-icon {
           background: #e1dfdd !important;
           border-radius: 8px;
           height: 36px !important;
    }
    .image-container {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border: 1px solid transparent;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 4px;
        gap: 5px;
        border-radius:4px;
    }
    .e-upload-file-list {
        display: none;
    }
    .drop-area-wrap {
        display: flex;
        border: 1px dashed #c8c6c4;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 12px;
        padding: 16px;
        border-radius: 6px;
    }
    .e-file-select-wrap {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .e-dlg-content .e-upload {
        border:none;
    }
    .control-section .e-appbar {
        height:36px;
        font-size: 14px !important;
    }
    .e-popup.e-popup-open.e-dialog .e-dlg-content{
        border-radius: 16px;
        display: flex;
        flex-direction: column;
        gap: 25px;
    }
    .e-tip-content .e-checkbox-wrapper .e-label {
        color: inherit; 
    }
    .e-tip-content {
        overflow: hidden;
    }
    .e-pv-primary-toolbar .e-toolbar {
        height:72px !important;
        padding: 0 9px;
    }
    .e-pv-primary-toolbar .e-toolbar .e-dropdown-btn,
    .e-pv-secondary-toolbar .e-toolbar .e-dropdown-btn{
        font-weight: inherit;
        padding: 3px;
        background: inherit;
        border: none;
        box-shadow: none;
        color: inherit;
        height: inherit;
    }
    .e-pv-zoom-in-container .e-icons.e-circle-add {
        top: 0px !important;
    }
    .e-dropdown-btn .e-shapes,
    .e-dropdown-btn .e-stamp,
    .e-dropdown-btn .e-circle-add {
        padding-bottom: 7px !important;
    }
    .e-toolbar .e-toolbar-item .e-tbar-btn.e-btn .e-icons.e-btn-icon,
    .e-dropdown-btn .e-btn-icon, .e-dropdown-btn.e-btn .e-btn-icon {
        font-size: 18px;
    }
    .e-pv-primary-toolbar .e-toolbar .e-toolbar-item .e-tbar-btn {
         flex-direction: column;
         padding: 5px;
    }
    .e-dialog .e-upload-files {
        border: none !important;
    }
    .e-pv-primary-toolbar .e-toolbar-items,
    .e-pv-secondary-toolbar .e-toolbar-items {
        gap: 5px;
    } 
    .e-bigger .e-pv-primary-toolbar .e-toolbar-items,
    .e-bigger .e-pv-secondary-toolbar .e-toolbar-items {
        gap: 7px;
    } 
    .mobile.e-bigger .e-pv-primary-toolbar .e-hscroll-content {
        display: flex;
        gap: 5px;
    }
    .highcontrast .e-pv-primary-toolbar .e-dropdown-btn .e-btn-icon.e-icon-top {
        top: 4px !important;
        padding-bottom: 15px !important;
    }
    #zoom-input {
        width : 97px;
    }
    .e-pv-primary-toolbar .e-template{
        padding:5px !important;
    }
    .e-bigger .e-pv-primary-toolbar .e-template{
         padding: 0 8px !important;
    }
    .e-signature {
        background-color: transparent;
        border: 0px solid;
    }

    .e-pv-annotation-thickness-slider-container {
        width: 50%;
        height: 40px;
    }
    .e-pv-annotation-thickness-label {
        width: 32%;
    }
    .e-pv-annotation-thickness-popup-container {
        display: flex;
        width: 320px;
        height: 50px;
        gap: 12px;
        align-items: center;
        box-shadow: 0px 10px 15px -3px rgba(0,0,0,0.1),0px 10px 15px -3px rgba(0,0,0,0.1);
        background-color: inherit;
    }
    .e-dropdown-btn .e-caret, .e-dropdown-btn.e-btn .e-caret {
        font-size:12px !important;
    }
    .e-pv-secondary-toolbar .e-btn .e-btn-icon.e-icon-left {
        margin-left: 0;
    }
    .e-bigger .e-pv-secondary-toolbar .e-combobox.e-input {
        height:inherit !important;
    }
    .e-bigger .e-input-group.e-control-wrapper .e-input-group-icon {
        min-width : 0px !important;
        border:none !important;
    }
    .e-pv-secondary-toolbar .e-input-group.e-control-wrapper .e-input-group-icon { 
        border:none !important;
    }
    .e-pv-secondary-toolbar .e-pv-bold-container.e-select-icon .e-control.e-tbar-btn.e-icon-btn,
    .e-pv-secondary-toolbar .e-pv-italic-container.e-select-icon .e-control.e-tbar-btn.e-icon-btn, 
    .e-pv-secondary-toolbar .e-pv-underline-container.e-select-icon .e-control.e-tbar-btn.e-icon-btn {
        background-color : inherit !important;
    }
    .highcontrast.e-bigger .e-toolbar .e-toolbar-item .e-tbar-btn.e-btn .e-icons.e-btn-icon, 
    .highcontrast.e-bigger .e-toolbar .e-toolbar-item .e-tbar-btn.e-btn.e-control .e-icons.e-btn-icon  {
        line-height :16px !important;
    }
</style>
@*End:Hidden*@